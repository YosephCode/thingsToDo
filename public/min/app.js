angular.module("codebetter",["codebetter.controllers.listController","codebetter.controllers.doneController","codebetter.controllers.createController","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("things",{url:"/",views:{list:{templateUrl:"templates/list.html",controller:"listController"}}}).state("done",{url:"/done",views:{list:{templateUrl:"templates/list.html",controller:"doneController"}}}).state("create",{url:"/create",views:{list:{templateUrl:"templates/createTask.html",controller:"createController"}}})}]),angular.module("codebetter.controllers.createController",["codebetter.services.thingsToDoService","ui.router"]).controller("createController",["$scope","$state","thingsToDoService",function(a,b,c){function d(a){e.thingsService.createTask(a),b.go("things")}var e=this;return e.initializer=function(){e.thingsService=c,e.setOptionsPriority(),e.setScopeFunctions()},e.setOptionsPriority=function(){a.optionsPriority=["low","average","high","critical"],a.newTask={task:null,priority:a.optionsPriority[0],note:null,dataRegistered:new Date}},e.setScopeFunctions=function(){a.createTask=d},e.initializer()}]),angular.module("codebetter.controllers.doneController",["codebetter.services.thingsToDoService"]).controller("doneController",["$scope","thingsToDoService",function(a,b){var c=this;return c.initializer=function(){a.mode="done",a.state=b.done},c.initializer()}]),angular.module("codebetter.controllers.listController",["codebetter.services.thingsToDoService"]).controller("listController",["$scope","$timeout","thingsToDoService",function(a,b,c){function d(a,b){f.thingsService.getTask(a),f.thingsService.addDone(a),f.thingsService.removeToDo(b)}function e(a){f.thingsService.removeToDo(a)}var f=this;f.initializer=function(){f.thingsService=c,a.mode="toDo",f.setScopeFunctions(),b(function(){a.state=c.tasks},100)},f.setScopeFunctions=function(){a.addDone=d,a.removeToDo=e},f.initializer()}]),angular.module("codebetter.services.bringTasksService",[]).factory("bringTasksService",["$http",function(a){return{query:function(){return a.get("./config/tasks.json")}}}]),angular.module("codebetter.services.thingsToDoService",["codebetter.services.bringTasksService"]).service("thingsToDoService",["bringTasksService",function(a){var b=this;return b.getTask=function(a){for(var c=b.tasks.length,d=0;c>d;d++){var e=b.tasks[d];if(e.task==a)return e}},b.tasks=[],b.done=[],a.query().then(function(a){b.tasks=a.data.tasks.toDo,b.done=a.data.tasks.done},function(a){alert("Houve um erro em nosso servidor.")}),b.addDone=function(a){var c=angular.copy(a);b.done.push(c)},b.removeToDo=function(a){b.tasks.splice(a,1)},b.createTask=function(a){var c=angular.copy(a);b.tasks.push(c)},b}]);